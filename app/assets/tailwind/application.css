@import "tailwindcss";

@layer base {
  :root {
    --brand: #ff7a00;
    --brand-dark: #f16600;
    --accent-blue: #5a6ff0;
    --accent-purple: #7c4dff;
    --muted: #7b8198;
    --surface: #ffffff;
    --surface-2: #f6f7fb;
  }

  body {
    @apply bg-[var(--surface-2)] text-slate-900;
    font-family: "Helvetica Neue", "Noto Sans JP", system-ui, -apple-system, sans-serif;
  }
}

@layer components {
  .brand-bar {
    @apply bg-[var(--brand)] text-white flex items-center justify-between px-4 py-3 shadow;
  }

  .pill-day {
    @apply flex flex-col items-center justify-center rounded-2xl border border-slate-200 min-w-[56px] h-16 text-sm font-semibold bg-white shadow-[0_6px_16px_rgba(0,0,0,0.04)];
  }

  .pill-day--today {
    @apply bg-[var(--brand)] text-white border-none shadow-[0_10px_24px_rgba(255,122,0,0.25)];
  }

  .soft-card {
    @apply bg-white rounded-[22px] shadow-[0_14px_32px_rgba(0,0,0,0.07)] border border-slate-100;
  }

  .editor-card {
    @apply bg-white rounded-[20px] shadow-[0_10px_30px_rgba(0,0,0,0.07)] border border-slate-100 overflow-hidden;
  }

  .section-title {
    @apply text-sm font-semibold text-slate-800;
  }

  .meal-slot {
    @apply flex items-center justify-between px-4 py-3 rounded-xl border border-slate-100 bg-white shadow-[0_6px_20px_rgba(0,0,0,0.04)];
  }

  .meal-chip {
    @apply text-[11px] font-semibold px-2 py-1 rounded-full uppercase tracking-wide;
  }

  .chip-gray { @apply bg-slate-100 text-slate-600; }
  .chip-orange { @apply bg-orange-100 text-orange-600; }
  .chip-purple { @apply bg-indigo-100 text-indigo-600; }

  .tag {
    @apply inline-block px-2 py-1 bg-slate-100 rounded-full text-[11px] text-slate-600 mr-1 mt-1;
  }

  .floating-add {
    @apply fixed bottom-24 right-5 w-14 h-14 rounded-full bg-[var(--brand)] text-white flex items-center justify-center shadow-[0_18px_40px_rgba(255,122,0,0.35)] text-3xl font-bold leading-none;
  }

  .floating-add__icon {
    @apply block transform -translate-y-[3px];
  }

  .form-card {
    @apply bg-white rounded-[22px] shadow-[0_14px_32px_rgba(0,0,0,0.07)] border border-slate-100 p-0 overflow-hidden;
  }

  .form-section {
    @apply px-6 py-5 border-t border-slate-100;
  }

  .input-label {
    @apply text-sm font-semibold text-slate-800;
  }

  .input-field {
    @apply w-full border-b border-slate-200 py-2 focus:outline-none focus:border-[var(--brand)] bg-transparent;
  }

  .upload-area {
    @apply bg-slate-50 flex flex-col items-center justify-center py-16 border-b border-slate-100 h-64;
  }

  .upload-icon {
    @apply text-5xl text-slate-400 mb-3;
  }

  .upload-text {
    @apply text-sm font-semibold text-slate-500;
  }

  .section-heading {
    @apply text-base font-semibold text-slate-900;
  }

  .divider {
    @apply h-px bg-slate-100 my-4;
  }

  .btn-primary {
    @apply px-4 py-3 bg-[var(--brand)] text-white rounded-xl text-center font-semibold shadow-[0_10px_24px_rgba(255,122,0,0.35)] hover:bg-[var(--brand-dark)];
  }

  .btn-secondary {
    @apply px-4 py-3 border border-slate-200 text-slate-700 rounded-xl text-center font-semibold bg-white hover:bg-slate-50;
  }

  .input-underline {
    @apply w-full border-b border-slate-200 bg-transparent focus:outline-none focus:border-[var(--brand)] transition;
  }

  .ingredient-row {
    @apply grid grid-cols-12 gap-3 items-center py-3 border-b border-slate-200;
  }

  .ingredient-row .delete-btn {
    @apply opacity-0 transition;
  }

  .ingredient-row:hover .delete-btn {
    @apply opacity-100;
  }

  .field-hint {
    @apply text-xs text-slate-400;
  }

  .form-grid {
    @apply grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6;
  }

  .pill {
    @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-slate-100 text-slate-600;
  }

  .ingredients-box {
    @apply bg-white border border-slate-200 rounded-2xl divide-y divide-slate-200 px-3;
  }

  .bottom-nav {
    @apply fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 flex justify-around py-3 shadow-[0_-6px_24px_rgba(0,0,0,0.06)];
  }

  .bottom-nav__item {
    @apply flex flex-col items-center text-xs font-semibold text-slate-500;
  }

  .bottom-nav__item--active {
    @apply text-[var(--brand)];
  }

  /* ---- Planner ---- */
  .calendar-scroll {
    @apply w-full;
  }

  .calendar-pill {
    @apply flex flex-col items-center justify-center rounded-2xl border border-slate-200 min-w-[64px] h-20 bg-white shadow-[0_8px_24px_rgba(0,0,0,0.05)] transition hover:-translate-y-0.5 hover:shadow-[0_12px_28px_rgba(0,0,0,0.07)];
  }

  .calendar-pill--active {
    @apply bg-[var(--brand)] border-none shadow-[0_16px_36px_rgba(255,122,0,0.32)];
  }

  .calendar-pill--today:not(.calendar-pill--active) {
    @apply border-orange-200 bg-orange-50;
  }

  .slot-card {
    @apply bg-white rounded-[22px] shadow-[0_14px_32px_rgba(0,0,0,0.07)] border border-slate-100 p-5 relative overflow-hidden;
  }

  .slot-card--clickable {
    @apply cursor-pointer transition hover:shadow-[0_16px_36px_rgba(255,122,0,0.18)] hover:border-[var(--brand)];
  }

  .slot-badge {
    @apply absolute top-4 right-4 text-[11px] font-bold uppercase tracking-widest px-3 py-1 rounded-full border;
  }

  .badge-gray { @apply bg-slate-50 text-slate-500 border-slate-100; }
  .badge-orange { @apply bg-orange-50 text-orange-600 border-orange-100; }
  .badge-purple { @apply bg-indigo-50 text-indigo-600 border-indigo-100; }

  .slot-thumb {
    @apply w-14 h-14 rounded-full bg-orange-50 border border-orange-100 shadow-inner flex items-center justify-center;
  }

  .slot-empty {
    @apply flex items-center gap-4 bg-white rounded-2xl px-4 py-3 text-slate-500;
  }

  .slot-empty__icon {
    @apply w-12 h-12 rounded-full bg-slate-50 border border-slate-200 flex items-center justify-center text-3xl text-slate-500;
  }

  .slot-empty__text { @apply font-semibold text-slate-600; }

  .slot-form { @apply mt-4 pt-4 border-t border-slate-100; }

  .slot-form__grid {
    @apply grid grid-cols-1 md:grid-cols-12 gap-3 items-end;
  }

  .slot-form__label { @apply text-xs font-semibold text-slate-500; }
  .slot-form__select { @apply mt-1 w-full rounded-lg border-slate-200 bg-white text-sm focus:ring-[var(--brand)] focus:border-[var(--brand)]; }
  .slot-form__input { @apply mt-1 w-full rounded-lg border-slate-200 text-sm text-center focus:ring-[var(--brand)] focus:border-[var(--brand)]; }
  .slot-form__number { @apply md:col-span-2; }
  .slot-form__action { @apply md:col-span-2; }

  .btn-tiny {
    @apply px-3 py-1 rounded-lg text-xs font-semibold;
  }

  .btn-danger {
    @apply border border-red-200 text-red-600 hover:bg-red-50;
  }

  .btn-ghost {
    @apply px-3 py-2 rounded-lg border text-sm font-semibold bg-white transition;
  }

  .shopping-card { @apply p-5; }
  .shopping-card__header { @apply flex items-center justify-between mb-4; }

  .shopping-list { @apply space-y-2 bg-indigo-50/60 rounded-2xl border border-indigo-100 p-3; }
  .shopping-row { @apply flex items-center justify-between bg-white rounded-xl px-4 py-3 border border-indigo-100; }
  .shopping-dot { @apply w-2.5 h-2.5 rounded-full bg-indigo-400; }
  .shopping-empty { @apply text-center py-12 bg-white border border-indigo-100 rounded-2xl shadow-inner; }
  .shopping-empty__icon { @apply text-4xl text-indigo-400 mb-2; }
  .shopping-empty__text { @apply font-semibold text-indigo-900; }
  .shopping-empty__hint { @apply text-xs text-indigo-500 mt-1; }

  .slot-add-button {
    @apply px-3 py-1.5 text-sm font-semibold text-[var(--brand)] bg-orange-50 border border-orange-100 rounded-lg hover:bg-orange-100 transition;
  }

  /* Selector modal */
  .selector-backdrop {
    @apply fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center px-4;
  }

  .selector-panel {
    @apply w-full max-w-3xl bg-white rounded-2xl shadow-2xl overflow-hidden;
  }

  .selector-header {
    @apply flex items-center justify-between px-5 py-4 border-b border-slate-100;
  }

  .selector-close {
    @apply w-8 h-8 rounded-full bg-slate-100 text-slate-500 flex items-center justify-center text-lg font-bold hover:bg-slate-200;
  }

  .selector-servings {
    @apply bg-orange-50 border border-orange-100 rounded-xl mx-5 mt-4 mb-4 px-4 py-3 flex items-center justify-between;
  }

  .selector-counter {
    @apply flex items-center gap-3 bg-white rounded-xl border border-orange-100 px-3 py-2 shadow-inner;
  }

  .counter-btn {
    @apply w-8 h-8 rounded-lg bg-orange-50 text-orange-600 text-lg font-bold flex items-center justify-center hover:bg-orange-100;
  }

  .counter-value {
    @apply min-w-[32px] text-center font-bold text-slate-900;
  }

  .selector-search {
    @apply relative px-5 pb-3;
  }

  .selector-search__icon {
    @apply absolute left-7 top-1/2 -translate-y-1/2 text-slate-400;
  }

  .selector-search__input {
    @apply w-full pl-10 pr-4 py-2.5 rounded-xl border border-slate-200 bg-slate-50 focus:bg-white focus:ring-[var(--brand)] focus:border-[var(--brand)] shadow-inner text-sm;
  }

  .selector-list {
    @apply max-h-[60vh] overflow-y-auto px-3 pb-4 space-y-2;
  }

  .selector-item {
    @apply w-full flex items-center justify-between bg-white border border-slate-100 rounded-xl px-3 py-2 shadow-sm hover:shadow-md transition cursor-pointer hover:border-[var(--brand)];
  }

  .selector-thumb {
    @apply w-14 h-14 rounded-xl bg-orange-50 border border-orange-100 flex items-center justify-center text-2xl;
  }

  .selector-add {
    @apply w-9 h-9 rounded-full bg-slate-100 text-slate-600 text-xl font-bold flex items-center justify-center hover:bg-[var(--brand)] hover:text-white transition;
  }
}
